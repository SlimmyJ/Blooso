<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="Blooso.Views.MatchDetailPage"
             xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:media="clr-namespace:Windows.UI.Xaml.Media;assembly=Windows.Foundation.UniversalApiContract"
             xmlns:vm="clr-namespace:Blooso.ViewModels">
    <ContentPage.BindingContext>
        <vm:MatchDetailViewModel />
    </ContentPage.BindingContext>
    <ContentPage.Content>
        <RefreshView>
            <Grid BackgroundColor="White">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <!--  1. Profile picture  -->
                <Image Grid.Row="0"
                       Source="{Binding UserDetail.UserPicture}"
                       VerticalOptions="Start" />
                <!--  2. Contact information frame  -->
                <StackLayout Grid.Row="0"
                             VerticalOptions="End">
                    <Frame CornerRadius="40">
                        <!--  Blocks: 3 and 4  -->
                        <Grid Padding="25,10,25,0"
                              RowSpacing="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <!--  3. Phone & message buttons  -->
                            <Button Grid.Row="0"
                                    Grid.Column="1"
                                    HorizontalOptions="End"
                                    ImageSource="Phone"
                                    Style="{StaticResource stlContactBtn}" />
                            <Button Grid.Row="0"
                                    Grid.Column="2"
                                    HorizontalOptions="Start"
                                    ImageSource="Correo"
                                    Style="{StaticResource stlContactBtn}" />
                            <!--  4. Contact information  -->
                            <Label Grid.Row="0"
                                   Grid.Column="0"
                                   Grid.ColumnSpan="3"
                                   FontAttributes="Bold"
                                   FontSize="30"
                                   Text="{Binding UserDetail.Name}" />
                            <Label Grid.Row="1"
                                   Grid.Column="0"
                                   FontSize="16"
                                   Text="Ghent, Belgium"
                                   TextColor="#a5a2a2" />
                            <Label Grid.Row="2"
                                   Grid.Column="0"
                                   Grid.ColumnSpan="3"
                                   Padding="0,10,0,0"
                                   FontSize="16">
                                <Label.FormattedText>
                                    <FormattedString>
                                        <Span FontAttributes="Bold"
                                              Text="I dream about travel and wine every day. Please like me." />
                                    </FormattedString>
                                </Label.FormattedText>
                            </Label>
                            <!--  4. Contact information: Board inforation  -->
                            <Label Grid.Row="3"
                                   Grid.Column="0"
                                   Style="{StaticResource stlBoardTitle}"
                                   Text="Likes" />
                            <Label Grid.Row="4"
                                   Grid.Column="0"
                                   Style="{StaticResource stlBoardDesc}"
                                   Text="678" />
                            <Label Grid.Row="3"
                                   Grid.Column="1"
                                   Style="{StaticResource stlBoardTitle}"
                                   Text="Activities">
                                <Label.GestureRecognizers>
                                    <TapGestureRecognizer Command="{Binding Source={RelativeSource AncestorType={x:Type vm:MatchDetailViewModel}}, Path=ActivityTappedAccount}"
                                                          CommandParameter="{Binding .}"
                                                          NumberOfTapsRequired="2" />
                                </Label.GestureRecognizers>
                            </Label>
                            <Label Grid.Row="4"
                                   Grid.Column="1"
                                   Style="{StaticResource stlBoardDesc}"
                                   Text="4" />
                            <Label Grid.Row="3"
                                   Grid.Column="2"
                                   Style="{StaticResource stlBoardTitle}"
                                   Text="Friends" />
                            <Label Grid.Row="4"
                                   Grid.Column="2"
                                   Style="{StaticResource stlBoardDesc}"
                                   Text="67k" />
                            <!--  4. Contact information: Follow button  -->
                            <Button Grid.Row="5"
                                    Grid.Column="0"
                                    Grid.ColumnSpan="3"
                                    Margin="0,20,0,2"
                                    BackgroundColor="{StaticResource AccentBlue}"
                                    Command="{Binding .AddUserToFavouritesCommand}"
                                    FontAttributes="Bold"
                                    FontSize="17"
                                    HeightRequest="45"
                                    Text="Add Friend"
                                    TextColor="White" />
                        </Grid>
                    </Frame>
                </StackLayout>
            </Grid>
        </RefreshView>
    </ContentPage.Content>
</ContentPage>